---
title: Video Projection
description: Documentation du système de Vidéo Projection, un composant clé pour l'expérience visuelle immersive
---

## Vue d'ensemble
Le système de **Vidéo Projection** est un composant clé de l'expérience visuelle, spécifiquement utilisé pour le rôle **Nightmare** (le Monstre) dans l'atelier **Lost**. Il permet de projeter des ambiances visuelles immersives (mapping) qui réagissent en temps réel aux interactions physiques (capteurs) et aux commandes du scénario.

## Fonctionnement
Ce module est une page web autonome (`/video`) conçue pour être affichée en plein écran sur un vidéoprojecteur relié au système (Raspberry Pi ou ordinateur de contrôle).

Elle agit comme un **client WebSocket** passif :
1.  Elle se connecte au serveur WebSocket central (ou directement au microcontrôleur ESP32 du module Lost).
2.  Elle écoute les messages JSON entrants.
3.  Lorsqu'elle reçoit une commande `lost_video_play`, elle change instantanément la source vidéo.

## Protocole & Commandes

Le changement de vidéo est piloté par le champ `lost_video_play` du protocole JSON Rift.

| Champ | Type | Description | Exemple |
| :--- | :--- | :--- | :--- |
| `lost_video_play` | `string` | Le nom du fichier vidéo à jouer (relatif au dossier `public/`). | `"video2.mp4"` |
| `lost_light_is_triggered`| `boolean`| Déclencheur physique (capteur de lumière) qui initie souvent le changement de vidéo. | `true` |

### Exemple de Séquence "Lost"
1.  **État Initial** : Le projecteur joue `video1.mp4` (Ambiance calme/sombre).
2.  **Interaction** : Le joueur "Nightmare" active le capteur de lumière (Lampe Torche virtuelle ou Physique).
3.  **Trigger ESP32** : L'ESP32 détecte le capteur et envoie :
    ```json
    {
      "lost_light_is_triggered": true,
      "lost_video_play": "video2.mp4"
    }
    ```
4.  **Réaction** : La page `/video` reçoit le paquet et bascule immédiatement sur `video2.mp4` (Apparition du monstre / Feedback visuel).

## Installation des Fichiers
Les fichiers vidéo doivent être placés dans le dossier `public/` de l'application web.

*   `public/video1.mp4` : Vidéo par défaut.
*   `public/video2.mp4` : Vidéo déclenchée (ex: Réaction à la lumière).

> **Note Technique** : Pour assurer une lecture fluide et sans coupure, utilisez des vidéos encodées en **H.264 (MP4)**, avec une résolution adaptée au projecteur (ex: 1920x1080).
